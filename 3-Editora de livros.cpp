/*Uma editora pretende fazer uma análise estatística sobre os dados de seus pedidos nos últimos
anos. Faça um algoritmo que receba como entrada, para cada pedido realizado no período, o
número de livros encomendados e, para cada livro, receba o seguimento do livro (Fundamental,
Médio ou Superior) e se o livro teve incentivo fiscal ou não. Para encerrar a coleta dos dados, será
digitado o código -1 na variável de entrada referente ao número de livros do pedido.
Após o encerramento das leituras, o algoritmo deve imprimir o seguinte relatório:
- Porcentagem de livros de cada seguimento,
- Número total de livros que não receberam incentivo fiscal,
- Média de livros por pedido no período.
- Quantos pedidos tiveram mais de 20 livros com incentivo fiscal,
- Quantos livros tinha o maior pedido.*/
#include <stdio.h>

int main (void){

	int naoInsentivo, fundamental, medio, superior, NumPedidos, contmais20, contLivros, quantidade, maior, i, segmento, insentivo;
	
	naoInsentivo = 0;
	fundamental = 0;
	medio = 0;
	superior = 0;
	NumPedidos = 0;
	contmais20 = 0;
	
	printf("\n\nQuantidade de livros do pedido: ");
	scanf("%d",&quantidade);
	maior = quantidade;
	while (quantidade != -1){
		NumPedidos++;
		contLivros = 0;
		for (i = 1; i <= quantidade; i++){
	        printf("\nSegmento do livro %d: ", i);
	        printf("\n[1]Fundamental [2]Médio [3]Superior: ");
	        scanf("%d",&segmento);
	        printf("\nRecebeu insentivo? [1]Sim [0]Não: ");
	        scanf("%d",&insentivo);
	
			if (!insentivo)
				naoInsentivo++;
	        else
				contLivros++;
	
			if (segmento == 1)
				fundamental++;
			else
				if (segmento == 2)
					medio++;
				else
					superior++;
		}
	
		if (quantidade > maior)
			maior = quantidade;
	
		if (contLivros > 2)
			contmais20++;
	
		printf("\n\nQuantidade de livros do pedido: ");
	    scanf("%d",&quantidade);
	}
	
	contLivros = fundamental + medio + superior;
	printf ("\nPorcentagem de cada segmento. Fundamental: %.2f%%, Médio: %.2f%% e Superior: %.2f%%",(float)fundamental*100/contLivros, (float)medio*100/contLivros, (float)superior*100/contLivros);
	printf ("\n Quantidade de livros sem insentivo: %d", naoInsentivo);
	printf ("\nMédia de livros por pedido: %.2f", (float)contLivros/NumPedidos);
	printf ("\npedidos com mais de 20 livros com insentivo: %d", contmais20);
	printf ("\nMaior pedido: %d livros", maior);

}
